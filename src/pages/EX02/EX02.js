import React, { useState } from "react";

import "./scss/contents.scss";

import GNB from "../../components/GNB";
import Header from "./components/Header";
import Faq from "./components/Faq";

const EX02 = () => {
  const faqData = [
    {
      type: "ì¼ë°˜",
      content: [
        {
          id:1,
          Q: "ì–´í”Œ ì‹¤í–‰ ì‹œ ì—…ë°ì´íŠ¸ë¥¼ í•˜ë¼ëŠ”ë° ì•± ì—…ë°ì´íŠ¸ê°€ ì•ˆë¼ìš”.",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ì‹¤í–‰ ì‹œ ìƒˆë¡œìš´ ì•± ë²„ì „ì´ ìˆì„ ê²½ìš°",
        },
        {
          id:2,
          Q: "ìŠ¤í˜ì…œ DJ í˜œíƒì´ ë­”ê°€ìš”?",
          A: "1. íŒ¬ì´ ë˜ê³ ì í•˜ëŠ” íšŒì›ì˜ í”„ë¡œí•„ ì„ íƒ",
        },
        {
          id:3,
          Q: "êµ¬ë§¤í•œ ë‹¬ë¡œ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆì–´ìš”?",
          A: "1. ë°©ì†¡ ì‹œì‘ í›„ ë©”ì¸í˜ì´ì§€ ë…¸ì¶œ ",
        },
        {
          id:4,
          Q: "1:1 ë¬¸ì˜ëŠ” ì–´ë–»ê²Œ í•˜ë‚˜ìš”? ë‹µë³€ì€ ì–¸ì œì™€ìš”?",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ë‚´ ì•„ì´í…œì€ 'ë‹¬'ğŸŒ™ì„ êµ¬ë§¤í•˜ì—¬",
        },
        {
          id:5,
          Q: "ì±„íŒ…ì´ ì•ˆë³´ì—¬ìš” or ì±„íŒ…ì´ ëŠ¦ê²Œ ì˜¬ë¼ì™€ìš”",
          A: "ë°©ì†¡ë°© ë‚´ ì±„íŒ… ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì•„ë˜ì˜ ë‚´ìš©ì„ ì°¸ê³ í•´ ì£¼ì„¸ìš”. ",
        },
        {
          id:6,
          Q: "ìŠ¤íƒ€ë€ ë¬´ì—‡ì¸ê°€ìš”?",
          A: "ë‚´ ê·€ì— ì™~!! ë°©ì†¡ ìŠ¤íƒ€ì¼ì´ ë§ëŠ” ë°©ì†¡ DJ",
        },
        {
          id:7,
          Q: "ë¡œê·¸ì•„ì›ƒ ë°©ë²•ì„ ëª¨ë¥´ê² ì–´ìš”",
          A: "ğŸ“±ëª¨ë°”ì¼ ì•± APP ë¡œê·¸ì¸ > ë§ˆì´ í˜ì´ì§€ > ë§¨ í•˜ë‹¨ì˜ 'ë¡œê·¸ì•„ì›ƒ' ë²„íŠ¼ í´ë¦­",
        },
      ],
    },
    {
      type: "ë°©ì†¡",
      content: [
        {
          id:8,
          Q: "ë°©ì†¡ì„ ì¢…ë£Œí•˜ê³  ì‹¶ì–´ìš”. ì–´ë–»ê²Œ í•˜ë‚˜ìš”?",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ì‹¤í–‰ ì‹œ ìƒˆë¡œìš´ ì•± ë²„ì „ì´ ìˆì„ ê²½ìš°",
        },
        {
          id:9,
          Q: "PC(WEB)ì—ì„œë„ ë°©ì†¡ì´ ê°€ëŠ¥í•œê°€ìš”?",
          A: "1. íŒ¬ì´ ë˜ê³ ì í•˜ëŠ” íšŒì›ì˜ í”„ë¡œí•„ ì„ íƒ",
        },
        {
          id:10,
          Q: "ë°©ì†¡ì„ ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ê³  ì‹¶ì–´ìš”",
          A: "1. ë°©ì†¡ ì‹œì‘ í›„ ë©”ì¸í˜ì´ì§€ ë…¸ì¶œ ",
        },
        {
          id:11,
          Q: "ë§ˆì´í¬ ì‚¬ìš© ê¶Œí•œì´ ì—†ìœ¼ë©´ ë°©ì†¡ì´ ë¶ˆê°€í•œê°€ìš”?",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ë‚´ ì•„ì´í…œì€ 'ë‹¬'ğŸŒ™ì„ êµ¬ë§¤í•˜ì—¬",
        },
        {
          id:12,
          Q: "ì‚¬ì—°ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?",
          A: "ë°©ì†¡ë°© ë‚´ ì±„íŒ… ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì•„ë˜ì˜ ë‚´ìš©ì„ ì°¸ê³ í•´ ì£¼ì„¸ìš”. ",
        },
        {
          id:13,
          Q: "ë°©ì†¡ì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?",
          A: "ë‚´ ê·€ì— ì™~!! ë°©ì†¡ ìŠ¤íƒ€ì¼ì´ ë§ëŠ” ë°©ì†¡ DJ",
        },
        {
          id:14,
          Q: "ë¹ ë¥¸ ë§ ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?",
          A: "ğŸ“±ëª¨ë°”ì¼ ì•± APP ë¡œê·¸ì¸ > ë§ˆì´ í˜ì´ì§€ > ë§¨ í•˜ë‹¨ì˜ 'ë¡œê·¸ì•„ì›ƒ' ë²„íŠ¼ í´ë¦­",
        },
      ],
    },
    {
      type: "ê²°ì œ",
      content: [
        {
          id:15,
          Q: "iPhoneì—ì„œ ê²°ì œë¥¼ í•˜ì˜€ëŠ”ë° ë‹¬ì´ ì¶©ì „ë˜ì§€ ì•Šì•„ìš”",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ì‹¤í–‰ ì‹œ ìƒˆë¡œìš´ ì•± ë²„ì „ì´ ìˆì„ ê²½ìš°",
        },
        {
          id:16,
          Q: "iOS(ì•„ì´í°) ì¸ì•± ê²°ì œë¥¼ ì·¨ì†Œí•˜ê³  ì‹¶ì–´ìš”",
          A: "1. íŒ¬ì´ ë˜ê³ ì í•˜ëŠ” íšŒì›ì˜ í”„ë¡œí•„ ì„ íƒ",
        },
        {
          id:17,
          Q: "êµ¬ë§¤í•œ ë‹¬ì„ í™˜ë¶ˆë°›ê³  ì‹¶ì–´ìš”.",
          A: "1. ë°©ì†¡ ì‹œì‘ í›„ ë©”ì¸í˜ì´ì§€ ë…¸ì¶œ ",
        },
        {
          id:18,
          Q: "ì¤‘ë³µ ê²°ì œê°€ ëœ ê²ƒ ê°™ì•„ìš”.",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ë‚´ ì•„ì´í…œì€ 'ë‹¬'ğŸŒ™ì„ êµ¬ë§¤í•˜ì—¬",
        },
      ],
    },
    {
      type: "ê³„ì •",
      content: [
        {
          id:19,
          Q: "í™˜ì „ í•˜ëŠ” ë°©ë²•ì„ ì•Œê³ ì‹¶ì–´ìš”.",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ì‹¤í–‰ ì‹œ ìƒˆë¡œìš´ ì•± ë²„ì „ì´ ìˆì„ ê²½ìš°",
        },
        {
          id:20,
          Q: "ëª¨ë‹ˆí„°ë§ ê¸°ì¤€ì€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?",
          A: "1. íŒ¬ì´ ë˜ê³ ì í•˜ëŠ” íšŒì›ì˜ í”„ë¡œí•„ ì„ íƒ",
        },
        {
          id:21,
          Q: "í™˜ì „í•  ë•Œ ê¼­ ì•Œì•„ì•¼ í•  ì •ë³´ê°€ ìˆë‚˜ìš”?",
          A: "1. ë°©ì†¡ ì‹œì‘ í›„ ë©”ì¸í˜ì´ì§€ ë…¸ì¶œ ",
        },
        {
          id:22,
          Q: "í™˜ì „í•  ë•Œ ì–´ë–¤ ì„œë¥˜ë¥¼ ì²¨ë¶€í•´ì•¼ í•˜ë‚˜ìš”?",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ë‚´ ì•„ì´í…œì€ 'ë‹¬'ğŸŒ™ì„ êµ¬ë§¤í•˜ì—¬",
        },
        {
          id:23,
          Q: "í™˜ì „ ì‹ ì²­ í›„ ì–¸ì œ ì…ê¸ˆë˜ë‚˜ìš”?",
          A: "ë°©ì†¡ë°© ë‚´ ì±„íŒ… ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì•„ë˜ì˜ ë‚´ìš©ì„ ì°¸ê³ í•´ ì£¼ì„¸ìš”. ",
        },
        {
          id:24,
          Q: "íƒ€ì¸ ëª…ì˜ë¡œ í™˜ì „ ì§„í–‰ì´ ê°€ëŠ¥í•œê°€ìš”?",
          A: "ë‚´ ê·€ì— ì™~!! ë°©ì†¡ ìŠ¤íƒ€ì¼ì´ ë§ëŠ” ë°©ì†¡ DJ",
        },
        {
          id:25,
          Q: "í™˜ì „ì´ ë­”ê°€ìš”?",
          A: "ğŸ“±ëª¨ë°”ì¼ ì•± APP ë¡œê·¸ì¸ > ë§ˆì´ í˜ì´ì§€ > ë§¨ í•˜ë‹¨ì˜ 'ë¡œê·¸ì•„ì›ƒ' ë²„íŠ¼ í´ë¦­",
        },
      ],
    },
    {
      type: "ê¸°íƒ€",
      content: [
        {
          id:26,
          Q: "í•´ì™¸ì—ì„œ ì´ìš©í•˜ëŠ” ì‚¬ëŒì€ ë³¸ì¸ì¸ì¦ì„ ì–´ë–»ê²Œ í•´ìš”?",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ì‹¤í–‰ ì‹œ ìƒˆë¡œìš´ ì•± ë²„ì „ì´ ìˆì„ ê²½ìš°",
        },
        {
          id:27,
          Q: "ê°œëª…ì„ í–ˆëŠ”ë° ì´ë¦„ ë³€ê²½ì´ ê°€ëŠ¥í•œê°€ìš”?",
          A: "1. íŒ¬ì´ ë˜ê³ ì í•˜ëŠ” íšŒì›ì˜ í”„ë¡œí•„ ì„ íƒ",
        },
        {
          id:28,
          Q: "íƒ€ì¸ì˜ ëª…ì˜ë¥¼ ë„ìš©í•´ì„œ ë³¸ì¸ í™•ì¸ì„ í•˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?",
          A: "1. ë°©ì†¡ ì‹œì‘ í›„ ë©”ì¸í˜ì´ì§€ ë…¸ì¶œ ",
        },
        {
          id:29,
          Q: "ë‚´ ê°œì¸ì •ë³´ë¥¼ ì‚¬ìš©í•œ ì‚¬ëŒì„ ì²˜ë²Œí•˜ê³  ì‹¶ì–´ìš”.",
          A: "ë‹¬ë¹›ë¼ì´ë¸Œ ë‚´ ì•„ì´í…œì€ 'ë‹¬'ğŸŒ™ì„ êµ¬ë§¤í•˜ì—¬",
        },
        {
          id:30,
          Q: "ê°€ì…í•œ ê³„ì •ì„ ì°¾ê³  ì‹¶ì–´ìš”",
          A: "ë°©ì†¡ë°© ë‚´ ì±„íŒ… ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì•„ë˜ì˜ ë‚´ìš©ì„ ì°¸ê³ í•´ ì£¼ì„¸ìš”. ",
        },
        {
          id:31,
          Q: "íƒˆí‡´í•œ ê³„ì •ì„ ë³µêµ¬í•´ì£¼ì„¸ìš”",
          A: "ë‚´ ê·€ì— ì™~!! ë°©ì†¡ ìŠ¤íƒ€ì¼ì´ ë§ëŠ” ë°©ì†¡ DJ",
        },
        {
          id:32,
          Q: "ìƒë…„ì›”ì¼ í˜¹ì€ ì„±ë³„ ì •ë³´ë„ ìˆ˜ì •ì´ ê°€ëŠ¥í•œê°€ìš”?",
          A: "ğŸ“±ëª¨ë°”ì¼ ì•± APP ë¡œê·¸ì¸ > ë§ˆì´ í˜ì´ì§€ > ë§¨ í•˜ë‹¨ì˜ 'ë¡œê·¸ì•„ì›ƒ' ë²„íŠ¼ í´ë¦­",
        },
      ],
    },
  ];
  // const info = [...faqData];
  let normal = [];
  let live = [];
  let pay = [];
  let account = [];
  let etc = [];
  const [faq, setfaq] = useState(faqData);
  const [search, setSearch] = useState("");
  const [searchValid, setSearchValid] = useState(0);
  const [infoSearchLength, setinfoSearchLength] = useState(0);
  const [activeIndex, setActiveIndex] = useState('');

  const searchFormHandler = (event) => {
    event.preventDefault();

    faqData.map((faqData) => {
      faqData.content.map((data) => {
        if (data.Q.includes(search)) {
          // console.log(faqData.type);
          // console.log(data);

          if (faqData.type === "ì¼ë°˜") {
            normal = [...normal, data];
          } else if (faqData.type === "ë°©ì†¡") {
            live = [...live, data];
          } else if (faqData.type === "ê²°ì œ") {
            pay = [...pay, data];
          } else if (faqData.type === "ê³„ì •") {
            account = [...account, data];
          } else if (faqData.type === "ê¸°íƒ€") {
            etc = [...etc, data];
          }
        }
        return 0;
      });
      return 0;
    });

    if (search !== "") {
      // ê²€ìƒ‰í•  ë•Œ
      setSearchValid(1);
      let infoSearch = [];
      if (normal.length > 0) {
        infoSearch = [...infoSearch, { type: "ì¼ë°˜", content: normal }];
      }
      if (live.length > 0) {
        infoSearch = [...infoSearch, { type: "ë°©ì†¡", content: live }];
      }
      if (pay.length > 0) {
        infoSearch = [...infoSearch, { type: "ê²°ì œ", content: pay }];
      }
      if (account.length > 0) {
        infoSearch = [...infoSearch, { type: "ê³„ì •", content: account }];
      }
      if (account.length > 0) {
        infoSearch = [...infoSearch, { type: "ê¸°íƒ€", content: etc }];
      }
      // console.log(infoSearch);
      setinfoSearchLength(infoSearch.length);
      setfaq(infoSearch);
    } else {
      setSearchValid(0);
      setfaq(faqData);
    }
  };

  const searchChange = (event) => {
    setSearch(event.target.value);
  };

  return (
    <>
      <GNB />
      <div className="totalWrap">
        <Header title={"FAQ"} />
        {/* ê²€ìƒ‰ */}
        <div className="searchWrap">
          <div className="searchForm">
            <form onSubmit={searchFormHandler}>
              <input
                type="text"
                placeholder="ê¶ê¸ˆí•œ ë‚´ìš©ì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”."
                onChange={searchChange}
              />
              <button type="submit" className="searchBtn" />
            </form>
          </div>
        </div>

        {/* FAQ ë‚´ìš© */}
        <div className="subContent">
          {searchValid === 1 && (
            <p className="searchResult">{`'${search}'${
              infoSearchLength > 0
                ? "ë¡œ ê²€ìƒ‰í•œ ê²°ê³¼ì˜ˆìš”"
                : "ì˜ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì–´ìš”"
            }`}</p>
          )}
          {faq.map((data, index) => (
            <Faq
              key={index}
              title={data.type}
              content={data.content}
              activeIndex={activeIndex}
              setActiveIndex={setActiveIndex}
            />
          ))}
        </div>
      </div>
    </>
  );
};

export default EX02;
